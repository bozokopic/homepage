<%inherit file="_main.html"/>

<%
from pathlib import Path
import collections

entries = collections.deque()

for article in sorted(conf['articles'],
                    reverse=True,
                    key=lambda i: i['published']):
    href = (Path('articles') / article['src']).with_suffix('.html')
    published = article['published'].split('T', 1)[0]
    label = f"{published} - {article['title']}"
    if 'updated' in article:
        updated = article['updated'].split('T', 1)[0]
        label += f" (updated {updated})"

    entries.append((href, label))
%>

<ul>
% for href, label in entries:
    <li>
        <p><a href="${href}">${label}</a></p>
    </li>
% endfor
</ul>
